<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigation Test - Verify Implementation</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;500;600&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Shared Navigation Styles -->
    <link rel="stylesheet" href="sie-navigation.css?v=1765124628">

    <style>
        :root {
            /* Primary Institutional Colors */
            --fh-navy: #002D62;
            --fh-cream: #FFFDF7;
            --fh-gray: #54585A;

            /* Secondary Colors */
            --fh-sage: #7C9885;
            --fh-burgundy: #6B2737;
            --fh-gold: #B08D57;

            /* Neutral Scale */
            --fh-gray-900: #1A1A1A;
            --fh-gray-700: #404040;
            --fh-gray-600: #595959;
            --fh-gray-500: #737373;
            --fh-gray-300: #D4D4D4;
            --fh-gray-200: #E5E5E5;
            --fh-gray-100: #F5F5F5;
            --fh-white: #FFFFFF;

            /* Typography */
            --fh-font-display: 'Crimson Pro', Georgia, serif;
            --fh-font-body: 'Inter', -apple-system, sans-serif;
            --fh-font-mono: 'IBM Plex Mono', monospace;

            /* Spacing */
            --fh-space-xs: 0.25rem;
            --fh-space-sm: 0.5rem;
            --fh-space-md: 1rem;
            --fh-space-lg: 1.5rem;
            --fh-space-xl: 2rem;
            --fh-space-2xl: 3rem;
            --fh-space-3xl: 4rem;
            --fh-space-4xl: 6rem;
        }

        body {
            font-family: var(--fh-font-body);
            background: var(--fh-cream);
            color: var(--fh-gray-900);
            padding: 2rem;
            margin: 0;
            min-height: 100vh;
        }

        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding-bottom: 100px;
        }

        h1 {
            font-family: var(--fh-font-display);
            color: var(--fh-navy);
            margin-bottom: 1rem;
        }

        .status-section {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            border: 1px solid var(--fh-gray-200);
            margin-bottom: 2rem;
        }

        .status-item {
            display: flex;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--fh-gray-100);
        }

        .status-label {
            font-weight: 600;
            width: 200px;
        }

        .status-value {
            flex: 1;
            color: var(--fh-gray-600);
        }

        .status-ok {
            color: green;
            font-weight: bold;
        }

        .status-error {
            color: red;
            font-weight: bold;
        }

        .navigation-preview {
            margin-top: 2rem;
            padding: 2rem;
            background: var(--fh-gray-100);
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Navigation System Test Page</h1>

        <div class="status-section">
            <h2>Navigation Component Status</h2>

            <div class="status-item">
                <span class="status-label">CSS Loaded:</span>
                <span class="status-value" id="css-status">Checking...</span>
            </div>

            <div class="status-item">
                <span class="status-label">Config Loaded:</span>
                <span class="status-value" id="config-status">Checking...</span>
            </div>

            <div class="status-item">
                <span class="status-label">Component Loaded:</span>
                <span class="status-value" id="component-status">Checking...</span>
            </div>

            <div class="status-item">
                <span class="status-label">Navigation Rendered:</span>
                <span class="status-value" id="nav-status">Checking...</span>
            </div>

            <div class="status-item">
                <span class="status-label">Total Chapters:</span>
                <span class="status-value" id="chapters-count">Checking...</span>
            </div>

            <div class="status-item">
                <span class="status-label">Current Page:</span>
                <span class="status-value" id="current-page">sie-chapter-5-money-markets.html</span>
            </div>
        </div>

        <div class="status-section">
            <h2>Navigation Files Loaded</h2>
            <div id="files-status"></div>
        </div>

        <div class="navigation-preview">
            <h2>Navigation Preview</h2>
            <p>The navigation bar should appear at the bottom of this page.</p>
            <p>If you see a navigation bar with Previous/Next buttons and a chapter selector, the system is working correctly.</p>
        </div>
    </div>

    <!-- Navigation Scripts -->
    <script src="sie-navigation-config.js?v=1765124628"></script>
    <script src="sie-navigation-component.js?v=1765124628"></script>
    <script>
        // Check if CSS is loaded
        function checkCSS() {
            const cssStatus = document.getElementById('css-status');
            const navBar = document.querySelector('.sie-nav-bar');
            if (navBar && getComputedStyle(navBar).position === 'fixed') {
                cssStatus.innerHTML = '<span class="status-ok">✓ LOADED</span>';
                return true;
            } else {
                cssStatus.innerHTML = '<span class="status-error">✗ NOT LOADED</span>';
                return false;
            }
        }

        // Check if Config is loaded
        function checkConfig() {
            const configStatus = document.getElementById('config-status');
            if (typeof SIECourseStructure !== 'undefined') {
                configStatus.innerHTML = '<span class="status-ok">✓ LOADED</span>';

                // Show chapter count
                const chaptersCount = document.getElementById('chapters-count');
                chaptersCount.innerHTML = SIECourseStructure.chapters.length + ' chapters found';

                return true;
            } else {
                configStatus.innerHTML = '<span class="status-error">✗ NOT LOADED</span>';
                return false;
            }
        }

        // Check if Component is loaded
        function checkComponent() {
            const componentStatus = document.getElementById('component-status');
            if (typeof SIENavigationComponent !== 'undefined') {
                componentStatus.innerHTML = '<span class="status-ok">✓ LOADED</span>';
                return true;
            } else {
                componentStatus.innerHTML = '<span class="status-error">✗ NOT LOADED</span>';
                return false;
            }
        }

        // Check if Navigation is rendered
        function checkNavigation() {
            const navStatus = document.getElementById('nav-status');
            const navBar = document.querySelector('.sie-nav-bar');
            if (navBar && navBar.innerHTML.length > 0) {
                navStatus.innerHTML = '<span class="status-ok">✓ RENDERED</span>';
                return true;
            } else {
                navStatus.innerHTML = '<span class="status-error">✗ NOT RENDERED</span>';
                return false;
            }
        }

        // Show loaded files
        function showLoadedFiles() {
            const filesStatus = document.getElementById('files-status');
            const scripts = document.querySelectorAll('script[src*="sie-navigation"]');
            const styles = document.querySelectorAll('link[href*="sie-navigation"]');

            let html = '<ul>';
            styles.forEach(style => {
                html += `<li>CSS: ${style.href}</li>`;
            });
            scripts.forEach(script => {
                html += `<li>JS: ${script.src}</li>`;
            });
            html += '</ul>';

            filesStatus.innerHTML = html;
        }

        // Initialize navigation for this test page
        const navigation = new SIENavigationComponent('sie-chapter-5-money-markets.html');

        // Run checks after page loads
        setTimeout(() => {
            checkConfig();
            checkComponent();
            checkNavigation();
            checkCSS();
            showLoadedFiles();
        }, 500);
    </script>
</body>
</html>